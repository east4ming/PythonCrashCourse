# 测试代码

编写函数或类时, 可以为其编写测试.
通过测试, 可确定代码面对各种输入都能够按照要求那样工作. 
在程序中添加新代码时, 你也可以对其进行测试, 确认它们不会破坏程序既有的行为.
程序员都会犯错, 因此每个程序员都必须经常测试其代码, 在用户发现问题前找出他们.

## 测试函数

### 单元测试和测试用例

模块 `unittest` 提供了代码测试工具. 
*单元测试*用于合适函数的某个方面没有问题;
*测试用例*是一组单元测试, 这些单元测试一起核实函数在各种情形下的行为都符合要求.
良好的测试用例考虑到了函数可能收到的各种输入, 包含针对所有这些情形的测试.
*全覆盖式测试*用例包含一整套单元测试, 涵盖了各种可能的函数使用方式.

### 可通过的测试

> 见`b_test_name_function.py`

我们创建了一个名为`NamesTestCase`的类, 用于包含一系列针对`get_formatted_name()`的单元测试. 命名最好与测试的函数相关, 并包含字样Test. 这个类必须集成`unittest.TestCase`类.
当我们运行该py文件时, 所有**以*test_*打头的方法**都将自动运行. 
*断言*方法: `assertEqual()`, 用来合适得到的结果是否与期望的一致. 
代码行`unittest.main()`让Python运行这个文件中的测试.

### 不能通过的测试

测试结果说明:

- 第一行输出一个字母 E, 指出测试用例中有一个单元测试导致了错误.
- 接下来会看到出错的位置
- 之后, 会看到 Traceback
- 再之后, 看到单元测试的运行结果.

### 测试未通过时怎么办

测试未通过时, 不要修改测试, 而应修复导致测试不能通过的代码.

### 添加新测试

> 见`b_test_name_function.py`


